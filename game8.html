<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Игра: Расставь месяцы по порядку</title>
    <link rel="stylesheet" href="buttons.css">
    <style>
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background: none;
            font-family: 'Arial', sans-serif;
            overflow: hidden;
        }

        .game-container {
            width: 500px;
            height: 600px;
            background-color: none;
            border-radius: 10px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .container {
            width: 95%;
            height: 300px;
            border: 2px dashed blue;
            border-radius: 10px;
            padding: 10px;
            margin-bottom: 20px;
            overflow-y: auto;
        }

        #upper-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr); /* 3 колонки равной ширины */
            grid-template-rows: repeat(4, 40px); /* 4 строки по 40px высотой */
            gap: 10px; /* Расстояние между ячейками */
            align-content: start; /* Начинаем с верха */
        }

        #lower-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr); /* 3 колонки равной ширины */
            grid-template-rows: repeat(4, 40px); /* 4 строки по 40px высотой */
            gap: 10px; /* Расстояние между ячейками */
            align-content: start; /* Начинаем с верха */
        }

        .glossy-btn {
            margin: 0 2px;
            height: 35px; /* Увеличил высоту для удобства на мобильных устройствах */
            width: 135px; /* Ширина для полных названий */
            box-sizing: border-box;
            transition: opacity 0.3s ease;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 14px; /* Увеличил размер шрифта */
        }

        .glossy-btn.inactive {
            opacity: 0.5;
            pointer-events: none;
        }

        .level-selector {
            margin-bottom: 20px;
            display: flex;
            gap: 10px;
        }

        .level-selector button {
            flex: 1;
            width: 150px; /* Ширина для полных названий */
            height: 40px; /* Увеличил высоту для удобства на мобильных устройствах */
            font-size: 14px; /* Увеличил размер шрифта */
        }

        #message {
            font-size: 18px;
            font-weight: bold;
            margin-top: 10px;
            text-align: center;
        }

        @media screen and (max-width: 420px) {
            .game-container {
                width: 95%;
                height: 550px;
                border-radius: 0;
                padding: 20px;
            }

            .container {
                width: 95%;
				height: 250px;
				border: 2px dashed blue;
				border-radius: 10px;
				padding: 10px;
				margin-bottom: 20px;
				overflow-y: auto;
            }

            .glossy-btn {
				height: 30px; /* Увеличил высоту для удобства на мобильных устройствах */
				width: 90px; /* Ширина для полных названий */
				box-sizing: border-box;
				transition: opacity 0.3s ease;
				display: flex;
				justify-content: center;
				align-items: center;
				font-size: 14px; /* Увеличил размер шрифта */
        }
            }

            .level-selector {
                flex-direction: row;
                width: 300px;
                gap: 5px; /* Уменьшил расстояние между кнопками */
            }

            .level-selector button {
                width: 100%; /* Кнопки занимают всю доступную ширину */
                height: 40px; /* Высота кнопок */
                font-size: 12px; /* Уменьшил размер шрифта для мобильных устройств */
            }

            .upper-container, .lower-container {
                display: grid;
				grid-template-columns: repeat(3, 1fr); /* 3 колонки равной ширины */
				grid-template-rows: repeat(4, 40px); /* 4 строки по 40px высотой */
				gap: 5px; /* Расстояние между ячейками */
				align-content: start; /* Начинаем с верха */
            }

            #message {
                font-size: 16px; /* Уменьшил размер шрифта для мобильных устройств */
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="level-selector">
            <button class="glossy-btn btn-color1" onclick="startGame('normal')">Обычный порядок</button>
            <button class="glossy-btn btn-color5" onclick="startGame('reverse')">Обратный порядок</button>
        </div>
        <div id="upper-container" class="container"></div>
        <div id="lower-container" class="container"></div>
        <div id="message"></div>
    </div>

    <audio id="correct-sound" src="correct.mp3"></audio>
    <audio id="uncorrect-sound" src="uncorrect.mp3"></audio>

    <script>
        const months = [
            "Январь", "Февраль", "Март", "Апрель", "Май", "Июнь",
            "Июль", "Август", "Сентябрь", "Октябрь", "Ноябрь", "Декабрь"
        ];

        let currentOrder = [];
        let selectedMonths = [];
        let gameMode = 'normal';

        const upperContainer = document.getElementById('upper-container');
        const lowerContainer = document.getElementById('lower-container');
        const message = document.getElementById('message');
        const correctSound = document.getElementById('correct-sound');
        const uncorrectSound = document.getElementById('uncorrect-sound');

        function startGame(mode) {
            gameMode = mode;
            currentOrder = mode === 'normal' ? [...months] : [...months].reverse();
            selectedMonths = [];
            upperContainer.innerHTML = '';
            lowerContainer.innerHTML = '';
            message.textContent = '';

            const shuffledMonths = shuffleArray([...months]);
            shuffledMonths.forEach(month => {
                const button = document.createElement('button');
                button.className = 'glossy-btn btn-color1';
                button.textContent = month;
                button.onclick = () => handleClick(month, button);
                upperContainer.appendChild(button);
            });
        }

        function handleClick(month, button) {
            moveButtonToLowerContainer(button);
            selectedMonths.push(month);
            if (selectedMonths.length === months.length) {
                checkOrder();
            }
        }

        function moveButtonToLowerContainer(button) {
            button.classList.add('inactive');
            const newButton = button.cloneNode(true);
            newButton.classList.remove('inactive');
            newButton.classList.remove('btn-color1');
            newButton.classList.add('btn-color4');
            newButton.onclick = null;
            lowerContainer.appendChild(newButton); /* Кнопки добавляются в порядке сверху вниз */
        }

        function checkOrder() {
            const isCorrect = selectedMonths.join(',') === currentOrder.join(',');
            if (isCorrect) {
                message.textContent = 'Поздравляем! Вы правильно расставили месяцы!';
                correctSound.play();
            } else {
                message.textContent = 'Увы, вы ошиблись. Попробуйте ещё раз!';
                uncorrectSound.play();
            }
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }
    </script>
</body>
</html>